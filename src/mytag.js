var tagEle="querySelectorAll"in document?document.querySelectorAll(".tag-link"):getClass("tag-link"),paper="querySelectorAll"in document?document.querySelector(".tagBall"):getClass("tagBall")[0],RADIUS=220,fallLength=500,tags=[],angleX=Math.PI/500,angleY=Math.PI/500,CX=paper.offsetWidth/2,CY=paper.offsetHeight/2,EX=paper.offsetLeft+document.body.scrollLeft+document.documentElement.scrollLeft,EY=paper.offsetTop+document.body.scrollTop+document.documentElement.scrollTop;function getClass(t){for(var e=document.getElementsByTagName("*"),a=[],n=0;n<e.length;n++){e[n].className===t&&a.push(e[n])}return a}function innit(){for(var t=0;t<tagEle.length;t++){var e,a=(2*(t+1)-1)/tagEle.length-1,n=(e=Math.acos(a))*Math.sqrt(tagEle.length*Math.PI),s=RADIUS*Math.sin(e)*Math.cos(n),o=RADIUS*Math.sin(e)*Math.sin(n),l=RADIUS*Math.cos(e),i=new tag(tagEle[t],s,o,l);tagEle[t].style.color="rgb("+parseInt(255*Math.random())+","+parseInt(255*Math.random())+","+parseInt(255*Math.random())+")",tags.push(i),i.move()}}function animate(){rotateX(),rotateY(),tags.forEach(function(){this.move()}),requestAnimationFrame(animate)}function rotateX(){var a=Math.cos(angleX),n=Math.sin(angleX);tags.forEach(function(){var t=this.y*a-this.z*n,e=this.z*a+this.y*n;this.y=t,this.z=e})}function rotateY(){var a=Math.cos(angleY),n=Math.sin(angleY);tags.forEach(function(){var t=this.x*a-this.z*n,e=this.z*a+this.x*n;this.x=t,this.z=e})}Array.prototype.forEach=function(t){for(var e=0;e<this.length;e++)t.call(this[e])},"addEventListener"in window?paper.addEventListener("mousemove",function(t){var e=t.clientX-EX-CX,a=t.clientY-EY-CY;angleY=1e-4*e,angleX=1e-4*a}):paper.attachEvent("onmousemove",function(t){var e=t.clientX-EX-CX,a=t.clientY-EY-CY;angleY=1e-4*e,angleX=1e-4*a});var tag=function(t,e,a,n){this.ele=t,this.x=e,this.y=a,this.z=n};tag.prototype={move:function(){var t=fallLength/(fallLength-this.z),e=(this.z+RADIUS)/(2*RADIUS),a="translate("+(this.x+CX-this.ele.offsetWidth/2+"px")+", "+(this.y+CY-this.ele.offsetHeight/2+"px")+") scale("+t+")";this.ele.style.opacity=.5+e,this.ele.style.zIndex=parseInt(100*t),this.ele.style.transform=a,this.ele.style.webkitTransform=a}},innit(),animate();